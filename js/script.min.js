document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelectorAll(".nav__link-arrow"),t=document.querySelector("body"),n=document.querySelector(".burger-btn"),i=document.querySelector(".header__nav-inner"),r=document.querySelector(".btn-close__burger"),a=document.querySelector(".btn-close__filter"),o=document.querySelector(".filter-btn"),l=document.querySelector(".aside"),s=document.querySelector(".user .header__item-link"),c=document.querySelectorAll(".footer__columns-title");let d=document.querySelector(".slider__nav-next"),p=document.querySelector(".slider__nav-prev"),u=document.querySelector(".swiper-container1");const m=e=>{e.classList.contains("active")?e.classList.remove("active"):e.classList.add("active")},w=d=>{c.forEach(e=>{const t=e.parentNode;e.contains(d.target)&&m(t)});let p=s.parentNode;e.forEach(e=>{const t=e.parentNode;e.contains(d.target)&&t.classList.toggle("active")}),document.querySelector(".catalog__inner").childNodes[3]&&o.contains(d.target)&&m(l),n.contains(d.target)?(m(i),m(t)):!i.contains(d.target)||r.contains(d.target)?(p.classList.contains("active")?g(p):(t.childNodes.filterBtn&&!l.contains(d.target)||t.childNodes.filterBtn&&a.contains(d.target))&&g(l),g(i),g(t),e.forEach(e=>{e.parentNode.classList.remove("active")})):s.contains(d.target)&&m(p)},g=e=>{e.classList.remove("active")},h=()=>{let e=document.body.clientWidth;e<=916?(console.log(e),document.addEventListener("click",w)):(g(i),g(t))};h(),window.addEventListener("resize",h),window.addEventListener("load",h);new Swiper(".main-swiper",{slidesPerView:"auto",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0,type:"fraction"}}),new Swiper(u,{slidesPerView:"auto",spaceBetween:10,loop:!0,breakpoints:{640:{slidesPerView:"auto",spaceBetween:10},1065:{slidesPerView:3,spaceBetween:10},1425:{slidesPerView:4,spaceBetween:30}},navigation:{nextEl:d,prevEl:p}});const f=document.querySelector(".our-works__slider"),y=document.querySelector(".reviews-swiper"),v=new Swiper(f,{slidesPerView:"auto",spaceBetween:10,centeredSlides:!0,loop:!0,pagination:{el:".swiper-pagination",clickable:!0},navigation:{nextEl:".our-works__slider .swiper-button-next",prevEl:".our-works__slider .swiper-button-prev"},breakpoints:{767:{slidesPerView:3,spaceBetween:30,centeredSlides:!1}}});new Swiper(y,{slidesPerView:1,spaceBetween:10,loop:!0,autoHeight:!0,navigation:{nextEl:".reviews-swiper .swiper-button-next",prevEl:".reviews-swiper .swiper-button-prev"},pagination:{el:".swiper-pagination",clickable:!0},breakpoints:{916:{slidesPerView:2,spaceBetween:30,navigation:!1}}});document.querySelectorAll(".aside__filter-item").forEach(e=>{if(e.classList.contains("aside__filter-slider")){let e=document.querySelector(".range-slider");noUiSlider.create(e,{connect:!0,behaviour:"tap",start:[198,1249],animationDuration:300,step:1,range:{min:[0],max:[1529]}});let t=[document.getElementById("lower-value"),document.getElementById("upper-value")];e.noUiSlider.on("update",(function(e,n,i,r,a){t[n].innerHTML="$"+Math.floor(e[n])}))}});document.querySelectorAll(".custom-select").forEach(e=>{new Choices(e,{searchEnabled:!1,itemSelectText:""})});const b=document.querySelector(".catalog__slider-container");new Swiper(b,{slidesPerView:"auto",pagination:{el:".swiper-pagination",clickable:!0}});document.querySelectorAll(".catalog__slider-card").forEach(e=>{new Swiper(e,{slidesPerView:1,autoHeight:!0,loop:!1,pagination:{el:".catalog__slider-pagination",clickable:!0},navigation:{nextEl:e.querySelector(".catalog__slider-card__btns .swiper-button-next"),prevEl:e.querySelector(".catalog__slider-card__btns .swiper-button-prev")},breakpoints:{575:{slidesPerView:2,spaceBetween:20},767:{slidesPerView:3,spaceBetween:30}}})});!function(e){let t=function(e){(e=e||window.event).preventDefault?e.preventDefault():e.returnValue=!1;let t=function e(t,n){return t&&(n(t)?t:e(t.parentNode,n))}(e.target||e.srcElement,(function(e){return e.tagName&&"DIV"===e.tagName.toUpperCase()}));if(!t)return;let i,r=t.parentNode,a=t.parentNode.childNodes,o=a.length,l=0;for(let e=0;e<o;e++)if(1===a[e].nodeType){if(a[e]===t){i=l;break}l++}return i>=0&&n(i,r),!1},n=function(e,t,n,i){let r,a,o,l=document.querySelectorAll(".pswp")[0];if(o=function(e){let t,n,i,r,a=e.childNodes,o=a.length,l=[];for(let e=0;e<o;e++)t=a[e],1===t.nodeType&&(n=t.children[0],i=n.getAttribute("data-size").split("x"),r={src:n.getAttribute("href"),w:parseInt(i[0],10),h:parseInt(i[1],10)},n.children.length>0&&(r.msrc=n.children[0].getAttribute("src")),r.el=t,l.push(r));return l}(t),a={closeEl:!0,captionEl:!1,fullscreenEl:!0,zoomEl:!0,shareEl:!1,counterEl:!1,arrowEl:!0,preloaderEl:!0,galleryUID:t.getAttribute("data-pswp-uid"),getThumbBoundsFn:function(e){let t=o[e].el.getElementsByTagName("img")[0],n=window.pageYOffset||document.documentElement.scrollTop,i=t.getBoundingClientRect();return{x:i.left,y:i.top+n,w:i.width}}},i)if(a.galleryPIDs){for(let t=0;t<o.length;t++)if(o[t].pid==e){a.index=t;break}}else a.index=parseInt(e,10)-1;else a.index=parseInt(e,10);isNaN(a.index)||(n&&(a.showAnimationDuration=0),r=new PhotoSwipe(l,PhotoSwipeUI_Default,o,a),r.init(),r.listen("unbindEvents",(function(){var e=r.getCurrentIndex();v.slideTo(e,!1),v.autoplay.start()})),r.listen("initialZoomIn",(function(){v.autoplay.running&&v.autoplay.stop()})))},i=document.querySelectorAll(e);for(let e=0,n=i.length;e<n;e++)i[e].setAttribute("data-pswp-uid",e+1),i[e].onclick=t;let r=function(){let e=window.location.hash.substring(1),t={};if(e.length<5)return t;let n=e.split("&");for(let e=0;e<n.length;e++){if(!n[e])continue;let i=n[e].split("=");i.length<2||(t[i[0]]=i[1])}return t.gid&&(t.gid=parseInt(t.gid,10)),t}();r.pid&&r.gid&&n(r.pid,i[r.gid-1],!0,!0)}(".my-gallery")}));class DynamicAdapt{elementsArray=[];init(){this.elements=[...document.querySelectorAll("[data-da]")],this.elements.forEach(e=>{const t=e.dataset.da.trim();if(""!==t){const n=t.split(","),i={};i.element=e,i.parent=e.parentNode,i.destination=document.querySelector("."+n[0].trim()),i.breakpoint=n[1]?n[1].trim():"767",i.place=n[2]?n[2].trim():"last",i.type=n[3]?n[3].trim():"max",this.elementsArray.push(i)}}),this.arraySort(this.elementsArray),this.mediaArray=this.elementsArray.map(({type:e,breakpoint:t})=>`(${e}-width: ${t}px),${t}`).filter((e,t,n)=>n.indexOf(e)===t),this.mediaArray.forEach(e=>{const t=e.split(","),n=window.matchMedia(t[0]),i=t[1];n.addEventListener("change",this.mediaHandler.bind(this,n,i)),this.mediaHandler.call(this,n,i)})}mediaHandler(e,t){const n=this.elementsArray.filter(({breakpoint:e})=>e===t);e.matches?n.forEach(e=>{e.index=this.indexInParent(e.parent,e.element),this.moveTo(e.place,e.element,e.destination)}):n.forEach(({parent:e,element:t,index:n})=>{this.moveBack(e,t,n)})}moveTo(e,t,n){"last"===e||e>=n.children.length?n.append(t):"first"!==e?n.children[e].before(t):n.prepend(t)}moveBack(e,t,n){void 0!==e.children[n]?e.children[n].before(t):e.append(t)}indexInParent(e,t){return[...e.children].indexOf(t)}arraySort(e){e.sort((e,t)=>e.breakpoint===t.breakpoint?e.place===t.place?0:"first"===e.place||"last"===t.place?-1:"last"===e.place||"first"===t.place?1:e.place-t.place:e.breakpoint-t.breakpoint)}}const da=new DynamicAdapt;da.init();